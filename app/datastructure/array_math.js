

var a  = {
  "data": [0, 0, 90, 9, 9, 114, 186, 6, 206, 51, 6, 11, 238, 2, 0, 0, 141, 53, 8, 247, 202, 5, 201, 47, 6, 142, 240, 2, 0, 0, 104,
     80, 7, 49, 198, 4, 57, 41, 6, 168, 237, 2, 0, 0, 156, 138, 5, 10, 110, 3, 125, 222, 9, 40, 229, 4, 34, 0, 147, 118, 5, 27, 86,
     3, 4, 65, 11, 70, 233, 5, 71, 0, 135, 109, 5, 249, 74, 3, 43, 111, 12, 31, 25, 7, 108, 0, 95, 99, 5, 54, 60, 3, 99, 102, 13, 35,
      29, 8, 144, 0, 94, 83, 5, 247, 47, 3, 141, 143, 14, 144, 110, 9, 181, 0, 113, 67, 5, 140, 29, 3, 224, 151, 15, 45, 182, 10, 218,
      0, 77, 44, 5, 253, 7, 3, 180, 107, 16, 17, 222, 11, 255, 0, 36, 24, 5, 234, 247, 2, 163, 6, 17, 60, 179, 12, 36, 1, 126, 9, 5,
      112, 242, 2, 161, 119, 17, 208, 59, 13, 72, 1, 86, 242, 4, 86, 233, 2, 53, 225, 17, 76, 200, 13, 109, 1, 153, 224, 4, 149, 218,
       2, 232, 42, 18, 102, 92, 14, 146, 1, 131, 211, 4, 68, 202, 2, 1, 51, 18, 227, 149, 14, 183, 1, 75, 189, 4, 131, 190, 2, 145,
       160, 18, 164, 94, 15, 220, 1, 158, 163, 4, 181, 183, 2, 49, 80, 19, 114, 98, 16, 1, 2, 248, 137, 4, 175, 173, 2, 234, 231, 19,
        54, 103, 17, 37, 2, 182, 121, 4, 23, 166, 2, 232, 74, 20, 68, 3, 18, 74, 2, 148, 106, 4, 250, 161, 2, 105, 173, 20, 166, 145,
        18, 111, 2, 236, 86, 4, 128, 154, 2, 53, 46, 21, 251, 80, 19, 148, 2, 82, 64, 4, 37, 147, 2, 198, 202, 21, 179, 28, 20, 185, 2,
        244, 39, 4, 145, 138, 2, 55, 106, 22, 131, 233, 20, 221, 2, 130, 23, 4, 163, 135, 2, 31, 222, 22, 238, 90, 21, 2, 3, 253, 18,
         4, 101, 137, 2, 244, 46, 23, 191, 127, 21, 39, 3, 249, 17, 4, 141, 142, 2, 138, 86, 23, 66, 132, 21, 76, 3, 137, 14, 4, 104,
         142, 2, 135, 120, 23, 157, 134, 21, 113, 3, 69, 11, 4, 109, 144, 2, 5, 169, 23, 15, 138, 21, 149, 3, 139, 222, 4, 159, 180, 2,
          194, 8, 24, 112, 51, 23, 186, 3, 188, 99, 6, 12, 146, 3, 174, 46, 24, 255, 225, 24, 223, 3, 5, 139, 7, 58, 254, 3, 2, 220, 22,
           147, 107, 25, 4, 4, 62, 203, 8, 184, 111, 4, 168, 50, 21, 173, 233, 24, 41, 4, 145, 208, 9, 254, 217, 4, 150, 71, 19, 28, 40,
            23, 77, 4, 156, 162, 10, 78, 49, 5, 174, 163, 17, 58, 160, 21, 114, 4, 177, 159, 11, 219, 148, 5, 64, 63, 16, 79, 118, 20,
            151, 4, 231, 164, 12, 40, 6, 6, 144, 14, 15, 182, 135, 19, 188, 4, 248, 130, 13, 178, 100, 6, 65, 220, 13, 55, 107, 18, 225,
            4, 17, 40, 14, 121, 157, 6, 154, 114, 12, 118, 188, 16, 5, 5, 42, 113, 14, 210, 186, 6, 218, 76, 12, 105, 152, 16, 42, 5, 131,
             163, 14, 53, 232, 6, 25, 113, 15, 224, 83, 18, 79, 5, 101, 60, 15, 236, 104, 7, 87, 255, 17, 196, 90, 20, 116, 5, 158, 194, 15,
              247, 157, 7, 65, 145, 20, 25, 34, 22, 153, 5, 152, 0, 16, 198, 205, 7, 217, 154, 23, 62, 197, 23, 189, 5, 189, 201, 15, 145,
               203, 7, 69, 113, 26, 119, 170, 25, 226, 5, 234, 84, 15, 23, 168, 7, 71, 81, 28, 243, 185, 26, 7, 6, 148, 214, 14, 164, 132, 7,
               23, 174, 29, 176, 94, 27, 44, 6, 109, 132, 14, 236, 109, 7, 229, 183, 30, 42, 5, 28, 81, 6, 208, 125, 14, 200, 113, 7, 190, 108,
                31, 114, 164, 28, 118, 6, 174, 148, 14, 234, 117, 7, 62, 203, 31, 229, 0, 29, 154, 6, 169, 167, 14, 207, 123, 7, 187, 235, 31,
                205, 31, 29, 191, 6, 12, 152, 14, 75, 114, 7, 122, 139, 31, 110, 238, 28, 228, 6, 146, 143, 14, 101, 98, 7, 185, 216, 30, 105,
                171, 28, 9, 7, 35, 115, 15, 142, 83, 8, 139, 209, 30, 223, 253, 28, 46, 7, 126, 46, 15, 121, 234, 7, 213, 68, 30, 43, 151, 28,
                 82, 7, 36, 113, 15, 80, 93, 8, 65, 16, 30, 138, 83, 28, 119, 7, 121, 3, 16, 228, 22, 9, 252, 3, 30, 59, 21, 28, 156, 7, 72,
                  117, 16, 165, 174, 9, 54, 226, 29, 198, 149, 27, 193, 7, 144, 177, 16, 39, 94, 10, 130, 162, 29, 179, 232, 26, 230, 7, 198,
                  17, 17, 190, 62, 11, 165, 68, 29, 16, 246, 25, 10, 8, 25, 102, 17, 10, 21, 12, 184, 243, 28, 5, 186, 24, 47, 8, 137, 195, 17,
                   87, 0, 13, 176, 222, 28, 65, 209, 23, 84, 8, 157, 46, 18, 213, 238, 13, 151, 215, 28, 207, 37, 23, 121, 8, 97, 153, 18, 167,
                    207, 14, 183, 200, 28, 27, 129, 22, 158, 8, 89, 238, 18, 49, 167, 15, 197, 172, 28, 111, 196, 21, 194, 8, 77, 52, 19, 131,
                    149, 16, 22, 134, 28, 236, 225, 20, 231, 8, 94, 62, 19, 205, 64, 17, 74, 61, 28, 247, 250, 19, 12, 9, 46, 220, 18, 140, 136,
                     17, 90, 208, 27, 234, 215, 18, 49, 9, 42, 193, 17, 221, 138, 17, 36, 1, 27, 14, 221, 16, 86, 9, 177, 206, 17, 2, 251, 17, 237,
                     233, 26, 68, 147, 16, 122, 9, 251, 208, 18, 246, 189, 18, 43, 97, 27, 100, 29, 18, 159, 9, 18, 243, 19, 150, 178, 19, 48, 238,
                     27, 0, 179, 19, 196, 9, 238, 133, 20, 56, 36, 20, 18, 193, 27, 99, 157, 20, 233, 9, 91, 37, 21, 197, 82, 20, 131, 251, 26, 56,
                     242, 21, 14, 10, 149, 174, 21, 251, 95, 20, 121, 76, 25, 20, 52, 22, 50, 10, 142, 106, 21, 84, 208, 19, 237, 89, 23, 93, 19, 21,
                     87, 10, 220, 92, 22, 126, 158, 19, 246, 20, 23, 127, 245, 21, 124, 10, 27, 122, 22, 146, 0, 19, 112, 88, 22, 32, 111, 22, 161,
                      10, 224, 182, 23, 121, 246, 18, 194, 202, 20, 178, 164, 22, 198, 10, 46, 169, 30, 163, 194, 20, 119, 40, 18, 24, 209, 21, 235,
                       10, 83, 65, 31, 133, 49, 21, 206, 120, 16, 41, 85, 21, 15, 11, 238, 16, 33, 84, 119, 21, 109, 127, 15, 148, 203, 20, 52, 11,
                        143, 152, 34, 175, 237, 20, 163, 210, 14, 29, 33, 20, 89, 11, 184, 211, 35, 23, 71, 20, 5, 70, 14, 215, 108, 19, 126, 11, 214,
                         221, 36, 242, 162, 19, 247, 213, 13, 107, 199, 18, 163, 11, 51, 130, 37, 72, 238, 18, 251, 106, 13, 200, 32, 18, 199, 11, 244,
                         108, 38, 166, 82, 18, 204, 245, 12, 115, 108, 17, 236, 11, 158, 72, 39, 157, 176, 17, 47, 138, 12, 173, 187, 16, 17, 12, 152,
                          172, 40, 5, 53, 17, 172, 33, 12, 233, 231, 15, 54, 12, 104, 20, 42, 177, 216, 16, 243, 195, 11, 229, 23, 15, 91, 12, 60, 65,
                           43, 216, 117, 16, 173, 127, 11, 194, 104, 14, 127, 12, 131, 50, 44, 157, 7, 16, 211, 63, 11, 16, 226, 13, 164, 12, 147, 31,
                            45, 132, 153, 15, 171, 255, 10, 161, 101, 13, 201, 12, 5, 154, 45, 143, 10, 15, 252, 189, 10, 42, 245, 12, 238, 12, 77, 13,
                            45, 60, 107, 13, 230, 62, 10, 157, 57, 12, 19, 13, 220, 209, 44, 25, 217, 11, 229, 206, 9, 157, 222, 11, 55, 13, 167, 132, 46,
                             120, 16, 12, 24, 213, 9, 155, 49, 12, 92, 13, 237, 195, 48, 239, 112, 12, 129, 219, 9, 157, 146, 12, 129, 13, 185, 205, 50,
                              138, 178, 13, 233, 14, 10, 216, 111, 12, 166, 13, 116, 230, 51, 86, 184, 16, 53, 80, 10, 10, 162, 10, 203, 13, 100, 90, 51,
                               124, 127, 19, 1, 255, 9, 212, 55, 8, 239, 13, 132, 178, 50, 147, 40, 22, 53, 47, 10, 150, 182, 6, 20, 14, 248, 35, 50, 191,
                                143, 24, 126, 153, 10, 73, 13, 6, 57, 14, 36, 227, 48, 179, 168, 25, 130, 206, 10, 56, 166, 5, 94, 14, 251, 3, 47, 184, 170,
                                 25, 189, 183, 10, 165, 37, 5, 131, 14, 172, 18, 45, 15, 38, 25, 48, 138, 10, 199, 193, 4, 168, 14, 142, 210, 43, 157, 137, 24,
                                  198, 112, 10, 171, 167, 4, 204, 14, 147, 80, 43, 196, 0, 24, 8, 93, 10, 227, 158, 4, 241, 14, 47, 95, 42, 205, 110, 23, 183,
                                  96, 10, 61, 172, 4, 22, 15, 85, 228, 38, 121, 105, 22, 112, 120, 10, 163, 194, 4, 59, 15, 232, 195, 33, 77, 58, 21, 151, 156,
                                  10, 101, 216, 4, 96, 15, 169, 117, 29, 92, 105, 20, 127, 188, 10, 102, 227, 4, 132, 15, 191, 165, 26, 252, 249, 19, 77, 220,
                                  10, 30, 242, 4, 169, 15, 220, 65, 24, 254, 148, 19, 165, 247, 10, 133, 0, 5, 206, 15, 155, 42, 22, 113, 42, 19, 196, 15, 11,
                                   2, 9, 5, 243, 15, 124, 67, 20, 161, 192, 18, 205, 32, 11, 119, 16, 5, 24, 16, 36, 1, 18, 169, 37, 18, 251, 46, 11, 239, 24,
                                    5, 60, 16, 163, 32, 14, 144, 37, 17, 186, 69, 11, 6, 40, 5, 97, 16, 126, 186, 12, 53, 209, 16, 182, 80, 11, 142, 40, 5,
                                    134, 16, 122, 198, 12, 51, 5, 17, 60, 103, 11, 25, 62, 5, 171, 16, 170, 113, 16, 169, 12, 19, 204, 94, 11, 46, 63, 5,
                                     208, 16, 80, 64, 18, 234, 58, 19, 113, 7, 11, 223, 21, 5, 244, 16, 166, 203, 19, 147, 90, 18, 109, 14, 10, 195, 123,
                                     4, 25, 17, 124, 209, 19, 235, 41, 16, 144, 252, 8, 144, 243, 3, 62, 17, 17, 101, 20, 73, 168, 14, 139, 32, 8, 216,
                                     144, 3, 99, 17, 238, 180, 21, 166, 21, 14, 226, 130, 7, 46, 75, 3, 136, 17, 252, 32, 23, 249, 211, 13, 173, 2, 7, 66,
                                     19, 3, 172, 17, 36, 50, 24, 166, 132, 13, 231, 146, 6, 129, 229, 2, 209, 17, 171, 190, 24, 105, 8, 13, 252, 53, 6, 58,
                                      187, 2, 246, 17, 217, 6, 25, 135, 111, 12, 156, 223, 5, 87, 152, 2, 27, 18, 225, 68, 25, 35, 11, 12, 152, 173, 5, 110,
                                      137, 2, 64, 18, 155, 119, 25, 176, 252, 11, 167, 173, 5, 124, 139, 2, 100, 18, 111, 132, 25, 46, 237, 11, 211, 173, 5,
                                       242, 143, 2, 137, 18, 147, 86, 25, 113, 199, 11, 211, 176, 5, 191, 147, 2, 174, 18, 254, 217, 24, 221, 138, 11, 147,
                                       187, 5, 174, 150, 2, 211, 18, 134, 55, 24, 231, 63, 11, 50, 192, 5, 147, 155, 2, 248, 18, 201, 112, 23, 104, 217, 10,
                                        250, 198, 5, 218, 160, 2, 29, 19, 86, 123, 22, 211, 108, 10, 4, 205, 5, 148, 163, 2, 65, 19, 85, 126, 21, 38, 9, 10,
                                         196, 210, 5, 87, 163, 2, 102, 19, 84, 247, 20, 104, 216, 9, 158, 213, 5, 136, 168, 2, 139, 19, 103, 208, 20, 226,
                                         186, 9, 19, 215, 5, 25, 169, 2, 176, 19, 59, 191, 20, 246, 157, 9, 192, 209, 5, 56, 172, 2, 213, 19, 60, 59, 20, 196,
                                          76, 9, 85, 206, 5, 94, 172, 2, 249, 19, 114, 188, 19, 225, 11, 9, 227, 202, 5, 190, 173, 2, 30, 20, 23, 128, 19, 157,
                                           221, 8, 16, 196, 5, 138, 169, 2, 67, 20, 100, 151, 20, 164, 75, 9, 149, 187, 5, 154, 172, 2, 104, 20, 77, 71, 22, 79,
                                           11, 10, 142, 175, 5, 81, 175, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                                            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                                             0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}

var b = a.data
//var c = b.typeof;

  //console.log(a);
  //console.log(b);
//  console.log(c);


function chunk (arr, len) {

  var chunks = [],
      i = 0,
      n = arr.length;

  while (i < n) {
    chunks.push(arr.slice(i, i += len));
  }

  return chunks;
}

c = chunk (b,4);
console.log(b.length);
console.log(b.length/4);
console.log(c[0]);
console.log(c[1]);



convertToChartData = function(tare, sensorData, sensorDataVersion) {
    var result = [];
    
    var JUMPSIZE = 1000;
    var JUMPFREQ = 5;
    var jumps = [];
    var lastValue = result[0].c[0].v;
    /* try to identify noise jumps */
    for (var i = 1; i < result.length; i++) {
        if (result[i].c[0].v - lastValue < JUMPSIZE) {
           jumps.push(i);
        }
        lastValue = result[i].c[0].v;
    }

    /* head case */
    if (jumps[0] < JUMPFREQ) {
        for (var i = 0; i < jumps[0]; i++){
            toDelete.push(i);
        }
    }
    /* tail case */
    if (jumps[jumps.length-1] > results.length - JUMPFREQ) {
        for (var i = jumps[jumps.length-1]; i < results.length; i++){
            toDelete.push(i);
        }
    }
    /* general case */
    for (var i = 1; i < jumps.length-1; i++){
        if (jumps[i+1] - jumps[i] < JUMPFREQ) {
            for (var j = jumps[i]; j < jumps[i+1]; j++){
                toDelete.push(i);
            }

        }
    }

    /* remove all entries marked to delete due to noise */
    var finalResult = [];
    for (var i = 0; i < result.length; i++){
        var del = false;
        for (var j = 0; j < toDelete.length; j++) {
            if (i == toDelete[j]) {
                del = true;
            }
        }
        if (!del)
            finalResult.push(result[i]);
    }
    return finalResult;
}


tara = [0,1,2,3];
version = 123;


var value = convertToChartData(tara,a,version);

console.log(value);
